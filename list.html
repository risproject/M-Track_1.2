<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>M-Track</title>

    <!-- Framework & icon -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <!-- css -->
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- Javascript -->
    <script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.rawgit.com/Keyang/node-csvtojson/d41f44aa/browser/csvtojson.min.js"></script>

  </head>
  <body>

    <section id="head" class="navbar">
        <div class="container">
          <div class="col-auto">
            <img src="aset/F-S.png" class="rounded-circle" width="35px" height="35px" alt=""> 
            M-Track_1.2
          </div>
        </div>
    </section>

    <section id="main">
        <div class="container pb-5">
            <div class="card">
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <h4 class="my-1">List & Keep</h4>
                    </div>
                    <div class="col">
                      <a href="https://docs.google.com/spreadsheets/d/1NiyHnLhArycWPhP4M5jU4QH5Rx_MoeS42pcdpga5OdM/edit?usp=drive_web&ouid=115694310462774924304" type="button" class="btn btn-primary float-end"><i class="bi bi-columns-gap"></i> Manage</a>
                    </div>
                  </div>
                </div>  
              </div>
            <div class="card">
              <div class="card-body">
                <div class="row mb-2">
                  <div class="col">
                    <span>Target :</span>
                    <span id="target"></span>
                  </div>
                  <div class="col">
                    <span>Value :</span>
                    <span id="value"></span>
                  </div>
                </div>
                <span>Progres :</span>
                <div class="progress mt-2" id="pTarget"></div>
              </div>
            </div>
        </div>
    </section>
    
    <!-- bottom Navbar -->
    <nav class="navbar fixed-bottom">
        <div class="container">
            <div class="container">
                <div class="row justify-content-center">
                    <a href="index.html" class="col-3 col-md text-center nav-menu">
                        <button class="btn btn-light nav-icon my-auto">
                            <i class="bi bi-house"></i>
                        </button>
                        <p class="nav-label">Home</p>
                    </a>
                    <a href="data.html" class="col-3 col-md text-center nav-menu">
                        <button class="btn btn-light nav-icon my-auto">
                            <i class="bi bi-clipboard2-data"></i>
                        </button>
                        <p class="nav-label">Data</p>
                    </a>
                    <a href="inventory.html" class="col-3 col-md text-center nav-menu">
                        <button class="btn btn-light nav-icon my-auto">
                            <i class="bi bi-inboxes"></i>
                        </button>
                        <p class="nav-label">Inventory</p>
                    </a>
                    <a href="list.html" class="col-3 col-md text-center nav-menu active">
                        <button class="btn btn-light nav-icon my-auto">
                            <i class="bi bi-collection"></i>
                        </button>
                        <p class="nav-label">List</p>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>

    <!-- Sheet Display Transaksi-->
    <script>
      const URL = "https://docs.google.com/spreadsheets/d/1NiyHnLhArycWPhP4M5jU4QH5Rx_MoeS42pcdpga5OdM/export?format=csv"
      const value = document.querySelector("#value");
      const target = document.querySelector("#target");
      const pTarget = document.querySelector("#pTarget");

      // lakukan fetch terhadap url
      fetch(URL).then(result => result.text()).then(function (csvtext) {
          return csv().fromString(csvtext);
      }).then(function (csv) {
          csv.forEach(function (row) {
              target.innerHTML += "<h4>" + row.target + "</h4>";
              value.innerHTML += "<h4>" + row.balance + "</h4>";
              pTarget.innerHTML += "<div class='progress-bar' role='progressbar' aria-label='Basic example' style='width: "+ row.pTarget +"'> "+ row.pTarget +" </div>";
          });
      });
    </script>
    <!-- Akhir sheet display Transaksi-->


   

  </body>
</html>
